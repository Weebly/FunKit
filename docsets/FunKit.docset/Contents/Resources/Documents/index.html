<!DOCTYPE html>
<html lang="en">
  <head>
    <title>FunKit  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="FunKit  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">FunKit Docs</a> (100% documented)</p>
        <p class="header-right"><a href="https://github.com/Weebly/FunKit"><img src="img/gh.png"/>View on GitHub</a></p>
        <p class="header-right"><a href="dash-feed://https%3A%2F%2Fweebly%2Egithub%2Eio%2FFunKit%2Fdocsets%2FFunKit%2Exml"><img src="img/dash.png"/>Install in Dash</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">FunKit Reference</a>
        <img id="carat" src="img/carat.png" />
        FunKit  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/Promise.html">Promise</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/EquatableResult.html">EquatableResult</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/Failure.html">Failure</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/Nil.html">Nil</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/Result.html">Result</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Functions/&gt;=&gt;(_:_:).html">&gt;=&gt;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions/&gt;&gt;&gt;(_:_:).html">&gt;&gt;&gt;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit5bimapAA6ResultOyq_q1_GADyxq0_Gcq_xcyXK_q1_q0_cyXKtr2_lF">bimap(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit4bindAA6ResultOyq_q0_GADyxq0_GcAExcyXKr1_lF">bind(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit7composeq0_xcq_xcyXK_q0_q_cyXKtr1_lF">compose(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit5curryq0_q_cxcq0_x_q_tcyXKr1_lF">curry(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit5curryq1_q0_cq_cxcq1_x_q_q0_tcyXKr2_lF">curry(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit5curryq2_q1_cq0_cq_cxcq2_x_q_q0_q1_tcyXKr3_lF">curry(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit8identityxxlF">identity(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit6ignoreyxlF">ignore(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit3mapAA6ResultOyq_q0_GADyxq0_Gcq_xcyXKr1_lF">map(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit4pipeq_x_q_xctr0_lF">pipe(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit7reverseq0_q__xtcq0_x_q_tcyXKr1_lF">reverse(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit7reverseq0_xcq_cq0_q_cxcyXKr1_lF">reverse(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit7reverseq1_q0__q_xtcq1_x_q_q0_tcyXKr2_lF">reverse(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit7reverseq1_xcq_cq0_cq1_q0_cq_cxcyXKr2_lF">reverse(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit7reverseq2_q1__q0_q_xtcq2_x_q_q0_q1_tcyXKr3_lF">reverse(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit7reverseq2_xcq_cq0_cq1_cq2_q1_cq0_cq_cxcyXKr3_lF">reverse(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit3teexxKcq_xKcyXKr0_lF">tee(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit3teexxcq_xcyXKr0_lF">tee(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit8tryCatchAA6ResultOyq_s5Error_pGxcq_xKcyXKr0_lF">tryCatch(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit6turninAA6ResultOyxq0_GADyxq_GcAEq_cyXKr1_lF">turnin(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit6turninxAA6ResultOyxq_Gcxq_cyXKr0_lF">turnin(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit7turnoutAA6ResultOyq_q0_Gxcq_xcyXKr1_lF">turnout(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit7uncurryq0_x_q_tcq0_q_cxcyXKr1_lF">uncurry(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit7uncurryq1_x_q_q0_tcq1_q0_cq_cxcyXKr2_lF">uncurry(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit7uncurryq2_x_q_q0_q1_tcq2_q1_cq0_cq_cxcyXKr3_lF">uncurry(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit7uncurryq_xcq_ycyXKr0_lF">uncurry(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit6unwrapAA6ResultOyq_AA3NilOGxcq_SgxcyXKr0_lF">unwrap(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:6FunKit6unwrapAA6ResultOyxAA3NilOGxSglF">unwrap(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions/|&gt;(_:_:).html">|&gt;(_:_:)</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='pipelines-promises-railways-your-way' class='heading'>Pipelines. Promises. Railways. Your way.</h1>

<p><a href="https://weebly.github.io/FunKit/"><img src="https://weebly.github.io/FunKit/badge.svg" alt="Documentation"></a></p>

<p><strong>FunKit</strong> is a functional toolkit for <a href="https://swift.org/">Swift</a>. It integrates <a href="https://fsharpforfunandprofit.com/posts/recipe-part2/">railway-oriented programming</a> with <a href="https://promisesaplus.com/">promises</a>, providing a novel way to build Swift applications.</p>
<pre class="highlight swift"><code><span class="kd">enum</span> <span class="kt">App</span> <span class="p">{</span>

    <span class="kd">static</span> <span class="kd">func</span> <span class="nf">main</span><span class="p">(</span><span class="nv">context</span><span class="p">:</span> <span class="kt">AppContext</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>

        <span class="kd">func</span> <span class="nf">addOKAction</span><span class="p">(</span><span class="nv">alert</span><span class="p">:</span> <span class="kt">UIAlertController</span><span class="p">)</span> <span class="p">{</span>
            <span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"OK"</span><span class="p">,</span> <span class="nv">style</span><span class="p">:</span> <span class="o">.</span><span class="k">default</span><span class="p">,</span> <span class="nv">handler</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
                <span class="o">|&gt;</span> <span class="kt">UIAlertAction</span><span class="o">.</span><span class="kd">init</span>
                <span class="o">|&gt;</span> <span class="n">alert</span><span class="o">.</span><span class="n">addAction</span>
        <span class="p">}</span>

        <span class="k">let</span> <span class="nv">showAlert</span> <span class="o">=</span> <span class="kt">UIAlertController</span><span class="o">.</span><span class="nf">init</span><span class="p">(</span><span class="nv">title</span><span class="p">:</span><span class="nv">message</span><span class="p">:</span><span class="nv">preferredStyle</span><span class="p">:)</span>
            <span class="o">&gt;&gt;&gt;</span> <span class="nf">tee</span><span class="p">(</span><span class="n">addOKAction</span><span class="p">)</span>
            <span class="o">&gt;&gt;&gt;</span> <span class="nf">curry</span><span class="p">(</span><span class="nf">reverse</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">viewController</span><span class="o">.</span><span class="n">present</span><span class="p">))(</span><span class="kc">nil</span><span class="p">)(</span><span class="kc">true</span><span class="p">)</span>

        <span class="kd">func</span> <span class="n">success</span><span class="o">&lt;</span><span class="kt">A</span><span class="o">&gt;</span><span class="p">(</span><span class="nv">_</span><span class="p">:</span> <span class="kt">A</span><span class="p">)</span> <span class="p">{</span>
            <span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"Initialized"</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="kc">nil</span><span class="p">,</span> <span class="nv">preferredStyle</span><span class="p">:</span> <span class="o">.</span><span class="n">alert</span><span class="p">)</span>
                <span class="o">|&gt;</span> <span class="n">showAlert</span>
        <span class="p">}</span>

        <span class="kd">func</span> <span class="nf">failure</span><span class="p">(</span><span class="nv">error</span><span class="p">:</span> <span class="kt">Error</span><span class="p">)</span> <span class="p">{</span>
            <span class="p">(</span><span class="nv">title</span><span class="p">:</span> <span class="s">"Failed"</span><span class="p">,</span> <span class="nv">message</span><span class="p">:</span> <span class="n">error</span><span class="o">.</span><span class="n">localizedDescription</span><span class="p">,</span> <span class="nv">preferredStyle</span><span class="p">:</span> <span class="o">.</span><span class="n">alert</span><span class="p">)</span>
                <span class="o">|&gt;</span> <span class="n">showAlert</span>
        <span class="p">}</span>

        <span class="kd">func</span> <span class="nf">done</span><span class="p">()</span> <span class="p">{</span> <span class="nf">print</span><span class="p">(</span><span class="s">"Initialization complete"</span><span class="p">)</span> <span class="p">}</span>

        <span class="kd">func</span> <span class="n">returnTrue</span><span class="o">&lt;</span><span class="kt">A</span><span class="o">&gt;</span><span class="p">(</span><span class="nv">_</span><span class="p">:</span> <span class="kt">A</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span> <span class="k">return</span> <span class="kc">true</span> <span class="p">}</span>

        <span class="nf">return</span> <span class="p">()</span>
            <span class="o">|&gt;</span> <span class="n">context</span><span class="o">.</span><span class="n">initialize</span>
            <span class="o">|&gt;</span> <span class="kt">Promise</span><span class="o">.</span><span class="n">main</span>
            <span class="p">?</span><span class="o">&gt;</span> <span class="n">success</span>
            <span class="o">!&gt;</span> <span class="n">failure</span>
            <span class="o">*&gt;</span> <span class="n">done</span>
            <span class="o">|&gt;</span> <span class="n">returnTrue</span>
    <span class="p">}</span>

<span class="p">}</span>
</code></pre>
<h3 id='pipelines' class='heading'>Pipelines</h3>

<p>Pipelines let you build functions like shell commands, where the output of one function is the input of another. This reduces the need for temporary variables while maintaining readability, using the <code>|&gt;</code> operator. The compose operator (<code>&gt;&gt;&gt;</code>) can be used to build pipeline functions, when there isn&rsquo;t a value to feed into it right away.</p>
<h3 id='railways' class='heading'>Railways</h3>

<p><a href="https://fsharpforfunandprofit.com/posts/recipe-part2/">Railways</a> improve upon pipelines by allowing methods to return a value denoting some sort of error condition. Traditional functions can be adapted using <code>turnout</code>, removing the need to manually check for errors at every step.</p>

<p>The <code>unwrap</code> function converts <code>nil</code> values to failures, while <code>tryCatch</code> does the same for thrown <code>Error</code>s.</p>
<h3 id='promises' class='heading'>Promises</h3>

<p><a href="https://promisesaplus.com/">Promises</a> are considered asynchronous railways. They can be created directly from railway <code><a href="Enums/Result.html">Result</a></code>s, or fulfilled or rejected asynchronously. Syntactic sugar operators such as <code>?&gt;</code>, <code>!&gt;</code>, and <code>*&gt;</code> make it easy to integrate promises with pipelines and railways.</p>
<h3 id='lazy-evaluation' class='heading'>Lazy Evaluation</h3>

<p><strong>FunKit</strong> makes extensive use of <code>@autoclosure</code> in an effort to provide lazy evaluation. However, the performance impacts have not been looked into.</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2017 <a class="link" href="https://weebly.com" target="_blank" rel="external">Weebly</a>. All rights reserved. (Last updated: 2017-12-07)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.9.0</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
